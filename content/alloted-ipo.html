<!-- Sticky Header -->
<div class="sticky top-0 z-30 bg-white border-b border-gray-200">
    <!-- Title -->
    <div class="max-w-5xl  h-auto">
        <h3 class="text-lg text-gray-800 font-semibold pt-3">Export Transaction List</h3>

        <div class="flex flex-col md:flex-row justify-between gap-3 pt-2">
            <!-- Box 1: Left-aligned -->
            <div class="w-full md:max-w-[49%] bg-white py-1">
                <h3 class="text-md text-gray-800 font-semibold mb-1">Upload Allotted IPO LIST</h3>
                
                <div class="flex flex-col sm:flex-row items-center gap-4">
                    <input type="file" class="border border-gray-300 rounded-lg p-2 w-full sm:w-64" />
                    <button
                        class="px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition">
                        Upload
                    </button>
                </div>
            </div>

            <!-- Box 2: Right-aligned -->
            <div class="w-full md:max-w-[49%]  bg-white ">
                <h3 class="text-md text-gray-800 font-semibold mb-1">Export Allotted IPO</h3>
                
                <div class="flex flex-col sm:flex-row items-center gap-4">
                    <select id="client-select"
                        class="block w-full sm:w-64 px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="" disabled selected>Select a Symbol</option>
                        <option value="client1">Client 1</option>
                        <option value="client2">Client 2</option>
                        <option value="client3">Client 3</option>
                        <option value="client4">Client 4</option>
                    </select>
                    <button
                        class="px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition">
                        Export
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="w-full bg-white rounded-md shadow-xs flex flex-wrap gap-4 items-end">

        <div class="w-full bg-white rounded-md shadow-xs flex flex-wrap gap-4 items-end">

            <div class="relative flex-1 min-w-full sm:min-w-[160px]">
                <input type="text" id="AllottedClientId" placeholder="Client ID"
                    class="w-full pr-8 rounded-md border border-gray-300 px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                <span onclick="document.getElementById('AllottedClientId').value=''"
                    class="absolute top-2 right-2 text-lg text-gray-400 hover:text-red-500 cursor-pointer">&times;</span>
            </div>

            <!-- Symbol -->
            <div class="relative flex-1 min-w-full sm:min-w-[160px]">
                <input type="text" id="AllottedSymbolSearch" placeholder="Symbol"
                    class="w-full pr-8 rounded-md border border-gray-300 px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                <span onclick="document.getElementById('AllottedSymbolSearch').value=''"
                    class="absolute top-2 right-2 text-lg text-gray-400 hover:text-red-500 cursor-pointer">&times;</span>
            </div>

            <!-- PAN -->
            <div class="relative flex-1 min-w-full sm:min-w-[160px]">
                <input type="text" id="AllottedPanSearch" placeholder="PAN"
                    class="w-full pr-8 rounded-md border border-gray-300 px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                <span onclick="document.getElementById('AllottedPanSearch').value=''"
                    class="absolute top-2 right-2 text-lg text-gray-400 hover:text-red-500 cursor-pointer">&times;</span>
            </div>

            <!-- Application No -->
            <div class="relative flex-1 min-w-full sm:min-w-[160px]">
                <input type="text" id="AllottedAppNoSearch" placeholder="Application No"
                    class="w-full pr-8 rounded-md border border-gray-300 px-2 py-2 text-sm text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                <span onclick="document.getElementById('AllottedAppNoSearch').value=''"
                    class="absolute top-2 right-2 text-lg text-gray-400 hover:text-red-500 cursor-pointer">&times;</span>
            </div>

            <!-- Search Button -->
            <button onclick="filterAllottedSearch()"
                class="px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition">
                Search
            </button>
        </div>



    </div>


    <div class="w-full  mb-4"></div>
    <div class="flex justify-end items-center gap-2 w-full">
        <!-- Search input with clear button -->
        <div class="relative flex-1 py-[4px] sm:flex-none sm:w-48">
            <input type="text" id="AllottedSearchPage" placeholder="Selected Page Search"
                class="w-full pr-8 rounded-md border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" />
            <span onclick="document.getElementById('AllottedSearchPage').value=''"
                class="absolute right-2 top-1.0 text-2xl cursor-pointer text-gray-400 hover:text-red-500">
                &times;
            </span>
        </div>

        <!-- Select button -->
        <button id="rowSelectAllotted" onclick="SelectPageAllotted()"
            class="px-4 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 transition whitespace-nowrap">
            Select
        </button>
    </div>
    <!-- End Controls -->


    <!-- Scrollable Table Container -->
    <div class="relative bg-white  max-h-[60vh] overflow-auto">
        <table class="min-w-full text-sm text-left">
            <thead class="sticky top-0  z-20 bg-white border-b border-gray-200">
                <tr class="cursor-pointer bg-stone-100 ">
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="
                    sortAllotted(0)">Symbol
                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="
                    sortAllotted(1)">Application No
                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="
                    sortAllotted(2)">PAN
                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="
                    sortAllotted(3)">Client ID
                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="
                    sortAllotted(4)">Applied Quantity
                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                    <th class="px-3 py-2 text-xs sm:text-sm font-medium text-center text-gray-700 hover:text-blue-600"
                        onclick="sortNoAllotted(4)">Allotted Quantity

                        <span><i class="fa-solid fa-sort text-gray-400 pl-[2px] text-sm"></i></span>
                    </th>
                </tr>
            </thead>
            <tbody id="AllottedTBody" class="divide-y divide-gray-100 mb-4">

            </tbody>
        </table>

    </div>

</div>
<!-- Fixed Footer -->
<div class="bg-white  px-2 sm:mt-4 relative pb-0 text-sm font-semibold sticky bottom-0 z-30 ">
  <div class="flex flex-row items-center justify-between gap-1 sm:gap-3 px-3 ">
    <!-- Rows Per Page Selector -->
        <div class="flex items-center gap-1 sm:gap-2">
            <select id="AllottedRowsPerPage"
                class="rounded-md border border-gray-300 px-2 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="10">10 rows</option>
                <option value="25" selected>25 rows</option>
                <option value="50">50 rows</option>
                <option value="250">250 rows</option>
            </select>
            <button onclick="setAllottedRowsPerPage()"
                class="px-3 py-1.5 sm:px-4 sm:py-1 bg-blue-500 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-blue-600 transition whitespace-nowrap">
                Go
            </button>
        </div>
        <!-- Pagination Buttons -->
        <div class="flex items-center gap-1 sm:gap-2">
            <button onclick="prevAllottedPage()"
                class="px-3 py-1.5 sm:px-4 sm:py-1 bg-blue-500 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-blue-600 transition">
                Prev
            </button>
            <span id="pageInfoAllotted" class="text-gray-900 text-xs sm:text-sm font-medium whitespace-nowrap"></span>
            <button onclick="nextAllottedPage()"
                class="px-3 py-1.5 sm:px-4 sm:py-1 bg-blue-500 text-white text-xs sm:text-sm font-medium rounded-md hover:bg-blue-600 transition">
                Next
            </button>
        </div>
    </div>
</div>





<script>
    const inputsToUppercase = ['searchPageAllotted', 'symbolSearchAllotted', 'ClientIdAllotted'];

    inputsToUppercase.forEach(id => {
        const input = document.getElementById(id);
        if (input) {
            input.addEventListener('input', () => {
                input.value = input.value.toUpperCase();
            });
        }
    });



</script>